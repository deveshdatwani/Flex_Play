#: import ListAdapter kivy.adapters.listadapter.ListAdapter
#: import ListItemButton kivy.uix.listview.ListItemButton

WindowManager:
	id: screen_manager
	MainWindow:
		id: main
		name: 'Main'
		manager: screen_manager
	PlayerHome:
		id: playerhome
		name: 'PlayerHome'
		manager: screen_manager
		username: main.username
		firstname: main.firstname
		email: main.email
		phonenumber: main.phonenumber
	GroupHome:
		id: grouphome
		name: 'GroupHome'
		groupplayers: playerhome.groupplayers
		username: playerhome.username
	CreateGroupEvent:
		id: creategroupevent
		name: 'CreateGroupEvent'
		username: main.username
		team:main.team
	SeeGroupEvents:
		id: seegroupevents
		name: 'SeeGroupEvents'
		groupevents:grouphome.groupevents
	CreateEvent:
		id: createhome
		name: 'CreateEvent'
		team: main.team
		username: playerhome.username
	FindEvents:
		id: findevents
		name: 'FindEvents'
	SeeEventDetails:
		id: seeeventdetails
		name: 'SeeEventDetails'
		eventplayers: seegroupevents.eventplayers
		eventname: seegroupevents.eventname
		eventdate: seegroupevents.eventdate
	YourEvents:
		id: yourevents
		name: 'YourEvents'
		yourevents: playerhome.yourevents
	YourNotifications:
		id: yournotifications
		name: 'YourNotifications'
		yournotifications: playerhome.yournotifications
	InvitePlayers:
		id: inviteplayers
		name: 'InvitePlayers'
		username: main.username
		team: main.team

<MainWindow>:
	
	FloatLayout:
		size:(200,300)

		Label: 
			text: 'Login'
			size_hint:(0.9,0.5)
			pos:(25,400)

		TextInput:
			text:'username'
			id: username
			multiline: False
			size_hint:(0.9,0.10)
			pos:(25,340)
		
		TextInput:
			text:'password'
			id: passw
			multiline: False
			size_hint:(0.9,0.10)
			pos:(25,250)
				
		Button:
			text:'Submit'
			size_hint: (0.9,0.15)
			pos:(25,10)
			on_release: 
				app.root.current = 'PlayerHome' if root.login(username.text,passw.text) == True else 'Main'
				root.manager.transition.direction = 'left'

<PlayerHome>:
	
	FloatLayout:

		Button:
			size_hint:(0.18,0.18)
			pos:(50,20)
			text:'Group Home'
			on_release: 
				app.root.current = 'GroupHome'
				root.manager.transition.direction = 'left'
				root.go_to_group_home(root.username)
		Button:
			size_hint:(0.18,0.18)
			pos:(150,20)
			text:'Create Event'
			on_release: 
				app.root.current = 'CreateEvent'
				root.manager.transition.direction = 'left'

		Button:
			size_hint:(0.18,0.18)
			pos:(250,20)
			text:'Find Events'
			on_release: 
				app.root.current = 'FindEvents'
				root.manager.transition.direction = 'right'

		Button:
			size_hint:(0.18,0.18)
			pos:(350,20)
			text:'Your Events'
			on_release:
				app.root.current = 'YourEvents'
				root.manager.transition.direction = 'left'
				root.see_your_events(root.username)

		Button:
			size_hint:(0.14,0.07)
			pos:(10,500)
			text:'Log Out'
			on_release: 
				app.root.current = 'Main'
				root.manager.transition.direction = 'right'

		Button:
			size_hint:(0.25,0.07)
			pos:(350,500)
			text:'Notifications'
			on_release: 
				app.root.current = 'YourNotifications'
				root.manager.transition.direction = 'left'
				root.see_your_notifications(root.username)

		Label:
			size_hint:(0.2,0.2)
			pos:(200,450)
			text: 'Welcome ' + root.firstname

		Label:
			size_hint:(0.2,0.2)
			pos:(60,350)
			text: 'email: ' + root.email
	
		Label:
			size_hint:(0.2,0.2)
			pos:(375,350)
			text: 'phone :' + root.phonenumber

<GroupHome>
	
	FloatLayout: 

        ListView:
        	pos: (0,-120)
        	item_strings: root.groupplayers

		Label:
			size_hint:(0.2,0.2)
			pos:(200,450)
			text: 'Welcome to Group'

		Button:
			size_hint:(0.2,0.2)
			pos:(75,20)
			text:'Create Event'
			on_release: 
				app.root.current = 'CreateGroupEvent'
				root.manager.transition.direction = 'left'

		Button:
			size_hint:(0.2,0.2)
			pos:(200,20)
			text:'See Events'
			on_release: 
				app.root.current = 'SeeGroupEvents'
				root.manager.transition.direction = 'left'
				root.see_group_events(root.username)
		
		Button:
			size_hint:(0.2,0.2)
			pos:(325,20)
			text:'Invite Players'
			on_release: 
				app.root.current = 'InvitePlayers'
				root.manager.transition.direction = 'left'

		Button:
			size_hint:(0.14,0.07)
			pos:(10,500)
			text:'<= Back'
			on_release: 
				app.root.current = 'PlayerHome'
				root.manager.transition.direction = 'right'

<CreateGroupEvent>
	
	FloatLayout: 

		Label:
			size_hint:(0.2,0.2)
			pos:(200,450)
			text: 'Welcome to Create Group Event'

		TextInput:
			text:'Event Arena'
			id: eventarena
			multiline: False
			size_hint:(0.5,0.05)
			pos:(125,360)

		TextInput:
			text:'Day Time'
			id: daytime
			multiline: False
			size_hint:(0.5,0.05)
			pos:(125,310)

		TextInput:
			text:'Duration'
			id: duration
			multiline: False
			size_hint:(0.5,0.05)
			pos:(125,260)

		TextInput:
			text:'Latitude'
			id: latitude
			multiline: False
			size_hint:(0.5,0.05)
			pos:(125,210)

		TextInput:
			text:'Longitude'
			id: longitude
			multiline: False
			size_hint:(0.5,0.05)
			pos:(125,160)

		Button:
			text: 'Create'
			size_hint:(0.4,0.1)
			pos:(125,40)
			on_release: root.create_event(root.username, eventarena.text, daytime.text, duration.text, latitude.text, longitude.text, root.team)

		Button:
			size_hint:(0.14,0.07)
			pos:(10,500)
			text:'<= Back'
			on_release: 
				app.root.current = 'GroupHome'
				root.manager.transition.direction = 'right'

<SeeGroupEvents>

	FloatLayout:
		id:seeallgroupevents

		ListView:
			pos: (0,-120)
			item_strings: root.groupevents

		Button:
			size_hint:(0.14,0.07)
			pos:(10,500)
			text:'<= Back'
			on_release: 
				app.root.current = 'GroupHome'
				root.manager.transition.direction = 'right'
<CreateEvent>

	FloatLayout: 

		Label:
			size_hint:(0.2,0.2)
			pos:(200,450)
			text: 'Welcome to Create Group Event'

		TextInput:
			text:'Event Arena'
			id: eventarena
			multiline: False
			size_hint:(0.5,0.05)
			pos:(125,360)

		TextInput:
			text:'Day Time'
			id: daytime
			multiline: False
			size_hint:(0.5,0.05)
			pos:(125,310)

		TextInput:
			text:'Duration'
			id: duration
			multiline: False
			size_hint:(0.5,0.05)
			pos:(125,260)

		TextInput:
			text:'Latitude'
			id: latitude
			multiline: False
			size_hint:(0.5,0.05)
			pos:(125,210)

		TextInput:
			text:'Longitude'
			id: longitude
			multiline: False
			size_hint:(0.5,0.05)
			pos:(125,160)

		Button:
			text: 'Create'
			size_hint:(0.4,0.1)
			pos:(125,40)
			on_release: root.create_event(root.username, eventarena.text, daytime.text, duration.text, latitude.text, longitude.text, root.team)

		Button:
			size_hint:(0.14,0.07)
			pos:(10,500)
			text:'<= Back'
			on_release: 
				app.root.current = 'PlayerHome'
				root.manager.transition.direction = 'right'

<SeeEventDetails>

	FloatLayout:

		ListView:
			item_strings: root.eventplayers
			pos:(5,-250)

		Button:
			size_hint:(0.14,0.07)
			pos:(10,500)
			text:'<= Back'
			on_release: 
				app.root.current = 'SeeGroupEvents'
				root.manager.transition.direction = 'right'

		Button:
			size_hint:(0.25,0.07)
			pos:(150,5)
			text: 'Join Event'

		Label:
			size_hint:(0.2,0.2)
			pos:(200,450)
			text: root.eventname

		Label:
			size_hint:(0.2,0.2)
			pos:(200,400)
			text: root.eventdate

		Label:
			size_hint:(0.2,0.2)
			pos:(200,350)
			text: 'Players In'

<YourEvents>

	FloatLayout:

		Label:
			text: 'Hello'

		Button:
			size_hint:(0.14,0.07)
			pos:(10,500)
			text:'<= Back'
			on_release: 
				app.root.current = 'PlayerHome'
				root.manager.transition.direction = 'right'


<YourNotifications>
	
	FloatLayout:
		id: seeyournotifications

		Label:
			text: 'Your Notifications'
			pos: (50,200)

		Button:
			size_hint:(0.14,0.07)
			pos:(10,500)
			text:'<= Back'
			on_release: 
				app.root.current = 'PlayerHome'
				root.manager.transition.direction = 'right'

		ListView:
			string_items: root.yournotifications
			pos:(500,-150)


<InvitePlayers>

	FloatLayout:

		TextInput:
			text:'Invite by username'
			id: invited
			multiline: False
			size_hint:(0.9,0.10)
			pos:(25,340)

		Button:
			size_hint:(0.14,0.07)
			pos:(10,500)
			text:'<= Back'
			on_release: 
				app.root.current = 'GroupHome'
				root.manager.transition.direction = 'right'

		Button:
			text: 'Invite'
			size_hint:(0.4,0.1)
			pos:(125,40)
			on_release: root.invite_player(root.username, root.team, invited.text)