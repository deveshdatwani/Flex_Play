#: import ListAdapter kivy.adapters.listadapter.ListAdapter
#: import ListItemButton kivy.uix.listview.ListItemButton

WindowManager:
	id: screen_manager
	MainWindow:
		id: main
		name: 'Main'
		manager: screen_manager
	PlayerHome:
		id: playerhome
		name: 'PlayerHome'
		manager: screen_manager
		username: main.username
		firstname: main.firstname
		email: main.email
		phonenumber: main.phonenumber
	GroupHome:
		id: grouphome
		name: 'GroupHome'
		groupplayers: playerhome.groupplayers
		username: playerhome.username
	CreateGroupEvent:
		id: creategroupevent
		name: 'CreateGroupEvent'
		username: main.username
		team:main.team
	SeeGroupEvents:
		id: seegroupevents
		name: 'SeeGroupEvents'
		groupevents:grouphome.groupevents
	CreateEvent:
		id: createhome
		name: 'CreateEvent'
		team: main.team
		username: playerhome.username
	FindEvents
		id: findevents
		name: 'FindEvents'

<MainWindow>:
	
	FloatLayout:
		size:(200,300)

		Label: 
			text: 'Login'
			size_hint:(0.9,0.5)
			pos:(25,400)

		TextInput:
			text:'username'
			id: username
			multiline: False
			size_hint:(0.9,0.10)
			pos:(25,340)
		
		TextInput:
			text:'password'
			id: passw
			multiline: False
			size_hint:(0.9,0.10)
			pos:(25,250)
				
		Button:
			text:'Submit'
			size_hint: (0.9,0.15)
			pos:(25,10)
			on_release: 
				app.root.current = 'PlayerHome' if root.login(username.text,passw.text) == True else 'Main'
				root.manager.transition.direction = 'left'

<PlayerHome>:
	
	FloatLayout:

		Button:
			size_hint:(0.2,0.2)
			pos:(25,20)
			text:'GroupHome'
			on_release: 
				app.root.current = 'GroupHome'
				root.manager.transition.direction = 'left'
				root.go_to_group_home(root.username)
		Button:
			size_hint:(0.2,0.2)
			pos:(200,20)
			text:'CreateEvent'
			on_release: 
				app.root.current = 'CreateEvent'
				root.manager.transition.direction = 'left'

		Button:
			size_hint:(0.2,0.2)
			pos:(375,20)
			text:'FindEvents'
			on_release: 
				app.root.current = 'FindEvents'
				root.manager.transition.direction = 'right'

		Label:
			size_hint:(0.2,0.2)
			pos:(200,450)
			text: 'Welcome ' + root.firstname

		Label:
			size_hint:(0.2,0.2)
			pos:(60,350)
			text: 'email: ' + root.email
	
		Label:
			size_hint:(0.2,0.2)
			pos:(375,350)
			text: 'phone :' + root.phonenumber

		Button:
			size_hint:(0.14,0.07)
			pos:(10,500)
			text:'Log Out'
			on_release: 
				app.root.current = 'Main'
				root.manager.transition.direction = 'right'

<GroupHome>
	
	FloatLayout: 

        ListView:
        	pos: (0,-120)
        	item_strings: root.groupplayers

		Label:
			size_hint:(0.2,0.2)
			pos:(200,450)
			text: 'Welcome to Group'

		Button:
			size_hint:(0.2,0.2)
			pos:(100,20)
			text:'Create Event'
			on_release: 
				app.root.current = 'CreateGroupEvent'
				root.manager.transition.direction = 'left'

		Button:
			size_hint:(0.2,0.2)
			pos:(275,20)
			text:'See Events'
			on_release: 
				app.root.current = 'SeeGroupEvents'
				root.manager.transition.direction = 'left'
				root.see_group_events(root.username)
		
		Button:
			size_hint:(0.14,0.07)
			pos:(10,500)
			text:'<= Back'
			on_release: 
				app.root.current = 'PlayerHome'
				root.manager.transition.direction = 'right'

<CreateGroupEvent>
	
	FloatLayout: 

		Label:
			size_hint:(0.2,0.2)
			pos:(200,450)
			text: 'Welcome to Create Group Event'

		TextInput:
			text:'Event Arena'
			id: eventarena
			multiline: False
			size_hint:(0.5,0.05)
			pos:(125,360)

		TextInput:
			text:'Day Time'
			id: daytime
			multiline: False
			size_hint:(0.5,0.05)
			pos:(125,310)

		TextInput:
			text:'Duration'
			id: duration
			multiline: False
			size_hint:(0.5,0.05)
			pos:(125,260)

		TextInput:
			text:'Latitude'
			id: latitude
			multiline: False
			size_hint:(0.5,0.05)
			pos:(125,210)

		TextInput:
			text:'Longitude'
			id: longitude
			multiline: False
			size_hint:(0.5,0.05)
			pos:(125,160)

		Button:
			text: 'Create'
			size_hint:(0.4,0.1)
			pos:(125,40)
			on_release: root.create_event(root.username, eventarena.text, daytime.text, duration.text, latitude.text, longitude.text, root.team)

		Button:
			size_hint:(0.14,0.07)
			pos:(10,500)
			text:'<= Back'
			on_release: 
				app.root.current = 'GroupHome'
				root.manager.transition.direction = 'right'

<SeeGroupEvents>

	FloatLayout:
		id:seeallgroupevents

		ListView:
			pos: (0,-120)
			item_strings: root.groupevents

		Button:
			size_hint:(0.14,0.07)
			pos:(10,500)
			text:'<= Back'
			on_release: 
				app.root.current = 'GroupHome'
				root.manager.transition.direction = 'right'
<CreateEvent>

	FloatLayout: 

		Label:
			size_hint:(0.2,0.2)
			pos:(200,450)
			text: 'Welcome to Create Group Event'

		TextInput:
			text:'Event Arena'
			id: eventarena
			multiline: False
			size_hint:(0.5,0.05)
			pos:(125,360)

		TextInput:
			text:'Day Time'
			id: daytime
			multiline: False
			size_hint:(0.5,0.05)
			pos:(125,310)

		TextInput:
			text:'Duration'
			id: duration
			multiline: False
			size_hint:(0.5,0.05)
			pos:(125,260)

		TextInput:
			text:'Latitude'
			id: latitude
			multiline: False
			size_hint:(0.5,0.05)
			pos:(125,210)

		TextInput:
			text:'Longitude'
			id: longitude
			multiline: False
			size_hint:(0.5,0.05)
			pos:(125,160)

		Button:
			text: 'Create'
			size_hint:(0.4,0.1)
			pos:(125,40)
			on_release: root.create_event(root.username, eventarena.text, daytime.text, duration.text, latitude.text, longitude.text, root.team)

		Button:
			size_hint:(0.14,0.07)
			pos:(10,500)
			text:'<= Back'
			on_release: 
				app.root.current = 'PlayerHome'
				root.manager.transition.direction = 'right'

<FindEvents>


